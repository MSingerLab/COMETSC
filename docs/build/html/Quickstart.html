

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation / Quickstart &mdash; COMET  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/COMET_favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Manual" href="manual.html" />
    <link rel="prev" title="&lt;no title&gt;" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> COMET
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation / Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="#direct-installation">Direct Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installing-via-a-virtual-environment-recommended">Installing via a Virtual Environment (Recommended)</a></li>
<li class="toctree-l1"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">COMET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation / Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-quickstart">
<h1>Installation / Quickstart<a class="headerlink" href="#installation-quickstart" title="Permalink to this headline">¶</a></h1>
<p>To skip installation on your own machine and run COMET on your data through COMET’s interface, check out our <a class="reference external" href="http://www.cometsc.com/comet">website</a>!</p>
<p>To install COMET’s Python implementation on your own machine, you
should have Python version 3.6 downloaded &amp; installed. If you do not,
you can get it at the link <a class="reference external" href="https://www.python.org/downloads/release/python-362/">here</a> (scroll down to the bottom of the
page and select your operating system). Otherwise, you will not
be able to set up the proper environment. You can check what python
versions you have installed by using the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ls -ls /usr/bin/python*
</pre></div>
</div>
<p>As with all python usage, it is recommended to use python virtual
environments to avoid conflicting package versions. We provide below
two options for installation: direct installation and installation via
a virtual environment.</p>
</div>
<div class="section" id="direct-installation">
<h1>Direct Installation<a class="headerlink" href="#direct-installation" title="Permalink to this headline">¶</a></h1>
<p>The easiest way to install the package without the use of virtual
environments is to simply run in the terminal:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install COMETSC
</pre></div>
</div>
<p>This will auto-download the depencencies necessary for running the
tool. If you prefer to download the source code directly, you can
clone the COMET source from our <a class="reference external" href="https://github.com/MSingerLab/COMETSC">Github</a>, navigate to the cloned
directory, then install it using Python.</p>
</div>
<div class="section" id="installing-via-a-virtual-environment-recommended">
<h1>Installing via a Virtual Environment (Recommended)<a class="headerlink" href="#installing-via-a-virtual-environment-recommended" title="Permalink to this headline">¶</a></h1>
<p>The following commands can be used to set up the virtual environment assuming there
are no active environments running on the computer.</p>
<p>The first line will install the virtual environment software to your
computer (assuming you already have pip installed).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install virtualenv
</pre></div>
</div>
<p>The second line then sets up a new virtual environment directory of your choice with
the proper version of python</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> virtualenv new_dir --python<span class="o">=</span>python3.6
</pre></div>
</div>
<p>The following line will activate the virtual environment, just be sure that the
path used is the correct one with respect to the current working directory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">source</span> new_dir/bin/activate
</pre></div>
</div>
<p>Now, install the proper COMET version to the virtual environment.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pip install COMETSC
</pre></div>
</div>
<p>When you are finished using the virtual environment,
simply type ‘deactivate’ and you will return to your usual python.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> deactivate
</pre></div>
</div>
<p>Your virtual environment should now be set up. If you run into any
errors with the above steps, please consult the python documentation
at their <a class="reference external" href="https://virtualenv.pypa.io/en/latest/">tutorial</a> or reach out to us at <a class="reference external" href="mailto:oshahid&#37;&#52;&#48;ds&#46;dfci&#46;harvard&#46;edu">oshahid<span>&#64;</span>ds<span>&#46;</span>dfci<span>&#46;</span>harvard<span>&#46;</span>edu</a>.</p>
</div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>Now, run COMET on your data. Give the files of your data as the first
three arguments and your desired output directory as your fourth
argument. Your data must be formatted into three files in your current
directory.
See the <a class="reference internal" href="usage.html"><span class="doc">Manual</span></a> for more information.</p>
<p>In this example, we have our data located in the current
directory. <code class="docutils literal notranslate"><span class="pre">output/</span></code> is the directory where COMET’s output will be
stored. To test your installation, you can download the following
example inputs <a class="reference download internal" download="" href="_downloads/b9b54d5b86420dba57a65418e10d9882/example_ins.zip"><code class="xref download docutils literal notranslate"><span class="pre">here</span></code></a> ! Copy them
to the directory of your choice and run the following command within
the directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> Comet tabmarker.txt tabvis.txt tabcluster.txt output/
</pre></div>
</div>
<p>After this command is entered, COMET will run in the terminal,
processing your data. If you are following along on your terminal and
the run finishes, the install was a success!
See some <a class="reference internal" href="Output.html"><span class="doc">examples</span></a> for details on
what the outputs should look like.</p>
<p>If, for example, you would like to skip the visualization step, simply
add the “-skipvis” option as shown below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> Comet tabmarker.txt tabvis.txt tabcluster.txt output/ -skipvis True
</pre></div>
</div>
<p>All optional arguments for the tool are described below in detail.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Why does my output contain genes that are not relevant
(e.g. are secreted rather than cell-surface)??
Our current marker list is inclusive rather than exclusive. If
you find irrelevant non surface markers (e.g. secreted), you
can manualy delete them from the list you used and upload the new list.</p>
</div>
<p>The optional statements are available as follows:</p>
<p>-h ()</p>
<blockquote>
<div><p>Help.</p>
</div></blockquote>
<p>-g (.txt)</p>
<blockquote>
<div><p>Optional gene list. Pointing -g to a text file with a list of
genes will only run COMET with these genes. By default, it will
run on all genes. Gene lists should be either comma delimited or line delimited.</p>
</div></blockquote>
<p>-C (int)</p>
<blockquote>
<div><p>Multi-process option. This allows the user to choose how many
clusters to run in parallel. This option is entirely dependent on
your hardware, a good benchmark is the number of cores on your
computer is a good choice for this option if you want things to
run faster. Defaults to 1.</p>
</div></blockquote>
<p>-X (int)</p>
<blockquote>
<div><p>X-param of the XL-mHG test. Determines the percentage of ones
above the threshold. See the <a class="reference internal" href="details.html"><span class="doc">statistical</span></a> section for more
info. Should only be values between 0 and 1. Defaults to .15 (15%)</p>
</div></blockquote>
<p>-L (int)</p>
<blockquote>
<div><p>L-param of the XL-mHG test. Determines the lowest threshold to
consider.
See the <a class="reference internal" href="details.html"><span class="doc">statistical</span></a> section for more info. Defaults to 2 * size of cluster</p>
</div></blockquote>
<p>-Abbrev (list)</p>
<blockquote>
<div><p>Abbrev is a variable to turn on the heuristics for a given
run. After typing ‘-Abbrev’ , give a list of the number gene
combinations you would like to be treated with the heuristic. For
example, if you want to turn on the heuristic for 3- gene
combinations only, input [3]. If you would like them for both 2-
and 3- gene combinations, input [2,3]. Defaults to an empty list.</p>
</div></blockquote>
<p>-K (int)</p>
<blockquote>
<div><p>The number of gene combinations you would like to consider. This
defaults to 2, can be at most 4 (for the time being). For example,
if 4 is chosen, COMET will run 2, 3, and 4 gene combinations.</p>
</div></blockquote>
<p>-Down (int)</p>
<blockquote>
<div><p>For turning on downsampling. Will turn the data set into a random
sampling of this many cells. Preserves cluster percentages by
taking cells of each cluster at the same rate as the full
set. Defaults to no downsampling.</p>
</div></blockquote>
<p>-Trim (int)</p>
<blockquote>
<div><p>Integer input for determining the size of the output
files. Currently default is set to 2000 lines, but an increase here will
give more combinations / singletons in the final ranked output files.</p>
</div></blockquote>
<p>-Count (Boolean)</p>
<blockquote>
<div><p>Will graph the log(expression+1). Leads to
nicer continuous expression plots when count data is used.
Defaults to False, will plot the inputted expression as is.</p>
</div></blockquote>
<p>-tenx (Boolean)</p>
<blockquote>
<div><p>For turning on tenx file integration. To submit a 10X format
expression matrix, set this variable to True and in place of the
expression matrix file in the command, use the folder containing
the 10X data. Keep the default 10X names (e.g. barcodes.tsv,
genes.tsv,matrix.mtx)</p>
</div></blockquote>
<p>-online (Boolean)</p>
<blockquote>
<div><p>Online version of COMET, turning this on will produce a run as if
it were submitted to the interface. This limits the run to looking
at the 15 largest clusters.</p>
</div></blockquote>
<p>-skipvis (Boolean)</p>
<blockquote>
<div><p>Setting this to true will skip the visualization section of the
tool. Useful for speeding things up or if a user does not have
coordinates to use. <strong>Please Note:</strong> The tool stilll expects an
input for the visualization file, so just use anything that will
fill that spot. Can be an empty text file or even one of the files
already in use (e.g. cluster file), it will not be used.</p>
</div></blockquote>
</div>
<div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>There has been a known issue with the compatibility of matplotlib with
certain installations.
The errors may look as follows:</p>
<p><cite>RuntimeError: Python is not installed as a framework. The Mac OS X
backend will not be able to function correctly if Python is not
installed as a framework.</cite></p>
<p><cite>ModuleNotFoundError: No module named ‘tkinter’</cite></p>
<p>This issue occurs when the python environment is using the wrong
version of the matplotlib backend variable, a setting used for a
variety of different plotting schemes.</p>
<p>To fix this issue, change the matplotlibrc ‘backend’ variable to ‘Agg’
as follows:</p>
<p>cd ~/.matplotlib</p>
<p>Create an empty file called ‘matplotlibrc’ (e.g. vim matplorlibrc)</p>
<p>Add ‘backend: Agg’ to this file and save (esc+:+w+q)</p>
<p>The matplotlib install should be fixed and Comet should run normally. This issue is discussed on
<a class="reference external" href="https://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python">stackoverflow</a> as well. If you already have a matplotlibrc file in the
site packages from downloading matplotlib, maneuvering to that file and changing
the backend as described above may also fix the problem.</p>
<p>The most common error when running COMET is the formatting of the
input files. If a run is failing and you cannot figure out why, please
consult the <a class="reference internal" href="usage.html"><span class="doc">Manual</span></a> to make sure the inputs are
absolutely correct.</p>
<p>Any further issues, please feel free to reach out to
<a class="reference external" href="mailto:oshahid&#37;&#52;&#48;ds&#46;dfci&#46;harvard&#46;edu">oshahid<span>&#64;</span>ds<span>&#46;</span>dfci<span>&#46;</span>harvard<span>&#46;</span>edu</a> with any questions, concerns, or
troubleshooting problems.</p>
<div class="toctree-wrapper compound">
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="manual.html" class="btn btn-neutral float-right" title="User Manual" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Meromit Singer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>